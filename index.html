<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ» 2026 ê´€í˜„ì•…ë°˜ ì—°ê°„ì¼ì •</title>
    
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <style>
        :root {
            /* ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */
            --c-type-1: #e9efef; --c-type-2: #ecd5e3; --c-type-3: #fcb9aa; 
            --c-type-4: #f7d9c4; --c-type-5: #c6def1; --c-type-6: #c9e4de; 
	    --c-type-7: #faedcb;
            /* í…Œë§ˆ ìƒ‰ìƒ */
            --bg-main: #fdfdfd; --bg-calendar: #ffffff; --bg-panel: #fbfbfb;
            --text-primary: #2d3436; --text-secondary: #636e72; --text-sunday: #e17055;
            --border-color: #eee; --day-hover: #f1f2f6; --selected-border: #6c5ce7;
            --dday-bg: #6c5ce7; --dday-text: #fff;
            
            /* ğŸ”¥ ì˜¤ëŠ˜ ë‚ ì§œ í•˜ì´ë¼ì´íŠ¸ ìƒ‰ìƒ */
            --today-border: #ff7675;
            --today-bg: rgba(255, 118, 117, 0.05);
            --today-badge: #ff7675;
        }

        body.dark-mode {
            --bg-main: #1e272e; --bg-calendar: #2f3640; --bg-panel: #353b48;
            --text-primary: #f5f6fa; --text-secondary: #dcdde1; --text-sunday: #ff7675;
            --border-color: #4b6584; --day-hover: #3d4a58; --selected-border: #a29bfe;
            --dday-bg: #a29bfe; --dday-text: #2f3640;
            --today-border: #fab1a0; --today-bg: rgba(250, 177, 160, 0.1); --today-badge: #fab1a0;
        }

        body { font-family: 'Pretendard', sans-serif; margin: 0; padding: 0; background-color: var(--bg-main); height: 100vh; overflow: hidden; color: var(--text-primary); transition: all 0.3s; }
        .container { display: flex; height: 100vh; }
        .calendar-area { flex: 7; padding: 25px; overflow-y: auto; background: var(--bg-calendar); }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .title-group { display: flex; align-items: center; gap: 15px; }
        .header-title { font-size: 24px; font-weight: 800; margin: 0; color: var(--text-primary); }
        
        .d-day-badge { background-color: var(--dday-bg); color: var(--dday-text); padding: 6px 12px; border-radius: 20px; font-weight: bold; font-size: 14px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); animation: bounce 2s infinite; display: none; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-3px); } }

        .controls { display: flex; gap: 10px; align-items: center; }
        .search-box { padding: 8px 12px; border-radius: 20px; border: 1px solid var(--border-color); background: var(--bg-main); color: var(--text-primary); outline: none; width: 180px; }
        .theme-btn { background: var(--bg-main); border: 1px solid var(--border-color); border-radius: 50%; width: 36px; height: 36px; cursor: pointer; font-size: 18px; }

        .legend { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 20px; }
        .legend-item { display: flex; align-items: center; background: var(--bg-panel); padding: 6px 10px; border-radius: 8px; border: 1px solid var(--border-color); cursor: pointer; font-size: 12px; font-weight: 600; color: var(--text-secondary); transition: all 0.2s; user-select: none; }
        .legend-item:hover { transform: translateY(-1px); }
        .legend-item.disabled { opacity: 0.4; filter: grayscale(80%); }
        .dot { width: 12px; height: 12px; border-radius: 3px; margin-right: 6px; }

        .year-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; padding-bottom: 50px; }
        .month-box { border: 1px solid var(--border-color); border-radius: 12px; padding: 15px; background: var(--bg-calendar); box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .month-name { text-align: center; font-weight: 800; margin-bottom: 15px; color: var(--text-secondary); }
        .days-grid { display: grid; grid-template-columns: repeat(7, 1fr); text-align: center; font-size: 12px; gap: 3px; }
        .day-header { color: var(--text-secondary); opacity: 0.7; font-size: 11px; margin-bottom: 8px; font-weight: bold; }
        .day-header.sun { color: var(--text-sunday); opacity: 1; }

        .day { height: 65px; border: 1px solid var(--border-color); border-radius: 4px; cursor: pointer; position: relative; display: flex; flex-direction: column; background: var(--bg-calendar); }
        .day:hover { background-color: var(--day-hover); z-index: 5; }
        .day.selected { border: 2px solid var(--selected-border) !important; z-index: 10; }
        .day.search-matched { background-color: rgba(255, 234, 167, 0.5); border: 2px solid var(--c-type-6); }

        /* ğŸ”¥ [í•µì‹¬] ì˜¤ëŠ˜ ë‚ ì§œ ìŠ¤íƒ€ì¼ */
        .day.is-today {
            border: 2px solid var(--today-border) !important;
            background-color: var(--today-bg);
            z-index: 6;
        }
        /* TODAY ë°°ì§€ (ìš°ì¸¡ ìƒë‹¨ì— ë¶™ìŒ) */
        .day.is-today::after {
            content: "TODAY";
            position: absolute;
            top: -6px; right: -6px;
            background-color: var(--today-badge);
            color: white;
            font-size: 9px;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

	/* âœ¨ íŠ¹ë³„í•œ ë‚ (ê³µì—° ë“±) ë±ƒì§€ ìŠ¤íƒ€ì¼ */
	.day.special-day {
    	border: 2px solid #ffdc2e !important; /* í…Œë‘ë¦¬ ìƒ‰ìƒ (ë…¸ë€ìƒ‰) */
    	z-index: 5;
	}

	/* ë±ƒì§€ ë””ìì¸ (ì™¼ìª½ ìƒë‹¨ì— ìœ„ì¹˜) */
	.day.special-day::before {
    	content: attr(data-badge); /* âœ¨ ë°ì´í„°ì— ì ì€ ê¸€ìë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜´ */
    	position: absolute;
    	top: -6px; 
    	right: -6px;
    	background-color: #ffdc2e; /* ë±ƒì§€ ë°°ê²½ìƒ‰ */
    	color: white;
    	font-size: 10px;
    	padding: 2px 6px;
    	border-radius: 10px;
    	font-weight: bold;
    	box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    	z-index: 10;
	}

        .date-num { font-size: 11px; color: var(--text-secondary); padding: 4px 6px; text-align: left; font-weight: bold; }
        .is-holiday .date-num, .is-sunday .date-num { color: var(--text-sunday); }

        .event-bar { height: 6px; margin-bottom: 2px; width: 100%; }
        .bar-start { border-top-left-radius: 4px; border-bottom-left-radius: 4px; margin-left: 2px; width: calc(100% - 2px); }
        .bar-end { border-top-right-radius: 4px; border-bottom-right-radius: 4px; margin-right: 2px; width: calc(100% - 2px); }
        .bar-single { border-radius: 4px; margin: 0 2px; width: calc(100% - 4px); }
        
        .type-1 { background-color: var(--c-type-1); } .type-2 { background-color: var(--c-type-2); }
        .type-3 { background-color: var(--c-type-3); } .type-4 { background-color: var(--c-type-4); }
        .type-5 { background-color: var(--c-type-5); } .type-6 { background-color: var(--c-type-6); }
	.type-7 { background-color: var(--c-type-7); }

        .detail-panel { flex: 3; padding: 30px; background-color: var(--bg-panel); border-left: 1px solid var(--border-color); display: flex; flex-direction: column; }
        .panel-date { font-size: 26px; font-weight: 900; margin-bottom: 25px; color: var(--text-primary); border-bottom: 3px solid var(--border-color); padding-bottom: 10px; }

        .task-card { padding: 18px; border-radius: 12px; margin-bottom: 15px; background: var(--bg-calendar); border-left: 6px solid #ccc; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .task-card.type-1 { border-left-color: var(--c-type-1); } .task-card.type-2 { border-left-color: var(--c-type-2); }
        .task-card.type-3 { border-left-color: var(--c-type-3); } .task-card.type-4 { border-left-color: var(--c-type-4); }
        .task-card.type-5 { border-left-color: var(--c-type-5); } .task-card.type-6 { border-left-color: var(--c-type-6); }
	.task-card.type-7 { border-left-color: var(--c-type-7); }
        
        .holiday-card { padding: 15px; border-radius: 12px; margin-bottom: 15px; background: rgba(255, 118, 117, 0.1); border: 1px solid var(--text-sunday); color: var(--text-sunday); display: flex; align-items: center; gap: 10px; }
        .holiday-badge { background: var(--text-sunday); color: white; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; }

        .tag { display: inline-block; font-size: 10px; padding: 3px 8px; border-radius: 20px; color: #333; margin-bottom: 8px; font-weight: bold; }
        .tag.type-1 { background-color: var(--c-type-1); } .tag.type-2 { background-color: var(--c-type-2); }
        .tag.type-3 { background-color: var(--c-type-3); } .tag.type-4 { background-color: var(--c-type-4); }
        .tag.type-5 { background-color: var(--c-type-5); } .tag.type-6 { background-color: var(--c-type-6); }
	.tag.type-7 { background-color: var(--c-type-7); }

        .task-title { font-weight: 800; font-size: 16px; display: block; margin-bottom: 5px; }
        .task-desc { font-size: 14px; color: var(--text-secondary); line-height: 1.4; }

	/* ğŸ“± ëª¨ë°”ì¼/íƒœë¸”ë¦¿ ìµœì í™” (í™”ë©´ í­ 1024px ì´í•˜ì¼ ë•Œ ì ìš©) */
        @media (max-width: 1024px) {
            /* 1. ì „ì²´ ìŠ¤í¬ë¡¤ í—ˆìš© (ëª¨ë°”ì¼ì€ í„°ì¹˜ ìŠ¤í¬ë¡¤ì´ ìì—°ìŠ¤ëŸ¬ì›€) */
            body { 
                height: auto; 
                overflow: auto; 
            }

            /* 2. ë ˆì´ì•„ì›ƒì„ 'ì„¸ë¡œ'ë¡œ ë³€ê²½ */
            .container { 
                flex-direction: column; /* ìœ„ì•„ë˜ë¡œ ìŒ“ê¸° */
                height: auto; 
            }

            /* 3. ìº˜ë¦°ë” ì˜ì—­ ì¡°ì • */
            .calendar-area { 
                overflow: visible; /* ìŠ¤í¬ë¡¤ë°” ì—†ì• ê³  ë‚´ìš© ë‹¤ ë³´ì—¬ì£¼ê¸° */
                padding: 15px;
                order: 2; /* ìƒì„¸ íŒ¨ë„ë³´ë‹¤ ì•„ë˜ì— ë°°ì¹˜ */
            }

            /* 4. ìƒì„¸ íŒ¨ë„ ì¡°ì • (ëª¨ë°”ì¼ì—ì„œëŠ” ìœ„ìª½ì— ê³ ì •í•˜ê±°ë‚˜ ìƒë‹¨ ë°°ì¹˜) */
            .detail-panel { 
                flex: none; /* í¬ê¸° ìë™ ì¡°ì ˆ í•´ì œ */
                width: 100%;
                border-left: none;
                border-bottom: 1px solid var(--border-color);
                padding: 20px;
                order: 1; /* ìº˜ë¦°ë”ë³´ë‹¤ ìœ„ì— ë°°ì¹˜ (ì¤‘ìš”!) */
                position: sticky; /* ìŠ¤í¬ë¡¤í•´ë„ ìƒë‹¨ì— ë¶™ì–´ìˆê²Œ í•  ìˆ˜ë„ ìˆìŒ */
                top: 0;
                z-index: 100;
                max-height: 250px; /* ë„ˆë¬´ ê¸¸ì–´ì§€ì§€ ì•Šê²Œ */
                overflow-y: auto;
                box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            }
            
            /* 5. í°íŠ¸ ë° ê°„ê²© ë¯¸ì„¸ ì¡°ì • */
            .header-title { font-size: 20px; }
            .day { height: 50px; } /* ëª¨ë°”ì¼ì—ì„œëŠ” ë‚ ì§œ ì¹¸ ë†’ì´ ì•½ê°„ ì¤„ì„ */
            .search-box { width: 140px; } /* ê²€ìƒ‰ì°½ í¬ê¸° ì¤„ì„ */
            
            /* 6. ëª¨ë°”ì¼ì—ì„œ ë²”ë¡€(Legend) ìˆ¨ê¸°ê±°ë‚˜ ì¡°ì • */
            .legend { 
                display: flex; 
                overflow-x: auto; /* ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ */
                white-space: nowrap; 
                padding-bottom: 5px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="calendar-area">
        <div class="header">
            <div class="title-group">
                <h2 class="header-title">ğŸ» 2026 ê´€í˜„ì•…ë°˜ ì—°ê°„ì¼ì •</h2>
                <div id="dDayBadge" class="d-day-badge"></div>
            </div>
            
            <div class="controls">
                <input type="text" id="searchInput" class="search-box" placeholder="ì¼ì • ê²€ìƒ‰..." onkeyup="filterEvents()">
                <button class="theme-btn" onclick="toggleDarkMode()" title="ë‹¤í¬ëª¨ë“œ">ğŸŒ™</button>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item" onclick="toggleCategory(1, this)"><div class="dot type-1"></div>í•™ì‚¬ì¼ì •</div>
            <div class="legend-item" onclick="toggleCategory(2, this)"><div class="dot type-2"></div>ì°¸ê³ ì¼ì •</div>
            <div class="legend-item" onclick="toggleCategory(3, this)"><div class="dot type-3"></div>í–‰ì‚¬</div>
            <div class="legend-item" onclick="toggleCategory(4, this)"><div class="dot type-4"></div>ì—…ë¬´</div>
            <div class="legend-item" onclick="toggleCategory(5, this)"><div class="dot type-5"></div>ì—…ë¬´</div>
            <div class="legend-item" onclick="toggleCategory(6, this)"><div class="dot type-6"></div>ì¤€ë¹„</div>
            <div class="legend-item" onclick="toggleCategory(7, this)"><div class="dot type-7"></div>íšŒë¹„</div>
        </div>

        <div class="year-grid" id="calendarGrid"></div>
    </div>

    <div class="detail-panel">
        <div class="panel-date" id="displayDate">TODAY</div>
        <div id="taskList">
            <div style="color:var(--text-secondary); text-align:center; margin-top:50px; font-size:14px;">
                ğŸ“… ì˜¤ëŠ˜: <span id="todayText"></span><br><br>
                ë‚ ì§œë¥¼ í´ë¦­í•˜ê±°ë‚˜<br>ì¹´í…Œê³ ë¦¬ë¥¼ ëˆŒëŸ¬ í•„í„°ë§í•´ë³´ì„¸ìš”.
            </div>
        </div>
    </div>
</div>

<script>
    // ============================================================
    // ğŸŒ ì‹¤ì‹œê°„ ì˜¤ëŠ˜ ë‚ ì§œ ê°€ì ¸ì˜¤ê¸° (PC ì‹œê°„ ê¸°ì¤€)
    // ============================================================
    const REAL_NOW = new Date(); 
    
    // âš ï¸ ì¤‘ìš”: ì´ ìº˜ë¦°ë”ëŠ” '2026ë…„' ì „ìš©ì…ë‹ˆë‹¤.
    // ë§Œì•½ ì‚¬ìš©ìì˜ PC ì—°ë„ê°€ 2026ë…„ì´ ì•„ë‹ˆë¼ë©´ 'ì˜¤ëŠ˜' í•˜ì´ë¼ì´íŠ¸ê°€ ì•ˆ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    // (í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì—°ë„ë¥¼ ê°•ì œë¡œ 2026ìœ¼ë¡œ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ì„¸ìš”)
    // const REAL_NOW = new Date(2026, 0, 8); // 2026ë…„ 1ì›” 8ì¼ë¡œ ê°•ì œ ì„¤ì •

    const TARGET_YEAR = 2026;

    const holidays2026 = {
        "2026-1-1": "ì‹ ì •", "2026-2-16": "ì„¤ë‚  ì—°íœ´", "2026-2-17": "ì„¤ë‚ ", "2026-2-18": "ì„¤ë‚  ì—°íœ´",
        "2026-3-1": "ì‚¼ì¼ì ˆ", "2026-3-2": "ëŒ€ì²´ê³µíœ´ì¼", "2026-5-5": "ì–´ë¦°ì´ë‚ ", "2026-5-24": "ë¶€ì²˜ë‹˜ì˜¤ì‹ ë‚ ",
        "2026-5-25": "ëŒ€ì²´ê³µíœ´ì¼", "2026-6-3": "ì§€ë°©ì„ ê±°", "2026-6-6": "í˜„ì¶©ì¼", "2026-8-15": "ê´‘ë³µì ˆ",
        "2026-8-17": "ëŒ€ì²´ê³µíœ´ì¼", "2026-9-24": "ì¶”ì„ ì—°íœ´", "2026-9-25": "ì¶”ì„", "2026-9-26": "ì¶”ì„ ì—°íœ´",
        "2026-10-3": "ê°œì²œì ˆ", "2026-10-5": "ëŒ€ì²´ê³µíœ´ì¼", "2026-10-9": "í•œê¸€ë‚ ", "2026-12-25": "ì„±íƒ„ì ˆ"
    };

    const events = [
        { title: "1í•™ê¸° ê°œê°•", start: "2026-3-3", end: "2026-3-3", type: 1, desc: "-" },
        { title: "1í•™ê¸° ì¤‘ê°„ê³ ì‚¬", start: "2026-4-21", end: "2026-4-27", type: 1, desc: "-" },
        { title: "ê·¼ë¡œìì˜ ë‚ ", start: "2026-5-1", end: "2026-5-1", type: 1, desc: "íœ´ì—…ì¼" },
        { title: "1í•™ê¸° ê¸°ë§ê³ ì‚¬", start: "2026-6-16", end: "2026-6-22", type: 1, desc: "-" },
        { title: "2í•™ê¸° ê°œê°•", start: "2026-9-1", end: "2026-9-1", type: 1, desc: "-" },
        { title: "ê°œêµê¸°ë…ì¼", start: "2026-9-29", end: "2026-9-29", type: 1, desc: "íœ´ì—…ì¼" },
        { title: "2í•™ê¸° ì¤‘ê°„ê³ ì‚¬", start: "2026-10-20", end: "2026-10-26", type: 1, desc: "-" },
        { title: "2í•™ê¸° ê¸°ë§ê³ ì‚¬", start: "2026-12-15", end: "2026-12-21", type: 1, desc: "-" },

        { title: "ì˜ˆ1 ìˆ˜ê°•ì‹ ì²­", start: "2026-2-12", end: "2026-2-12", type: 2, desc: "-" },
        { title: "ë³¸1 0ì£¼í‰", start: "2026-3-9", end: "2026-3-9", type: 2, desc: "-" },
        { title: "ëª¨ê¼¬ì§€", start: "2026-3-27", end: "2026-3-27", type: 2, desc: "-" },
        { title: "ë³¸1 1ì£¼í‰", start: "2026-3-30", end: "2026-3-30", type: 2, desc: "-" },
        { title: "ë³¸1 í•´ë¶€ ì¤‘ê°„", start: "2026-4-20", end: "2026-4-20", type: 2, desc: "-" },
        { title: "ë³¸1 2ì£¼í‰", start: "2026-5-18", end: "2026-5-18", type: 2, desc: "-" },

        { title: "OB ì‹ ë…„ìŒì•…íšŒ (ì„œìš¸íˆ¬ì–´)", start: "2026-1-17", end: "2026-1-17", type: 3, desc: "18:00<br>í…Œíë¦¼ ì•„íŠ¸í™€ (ì„œìš¸ ê°•ë‚¨êµ¬ ë…¼í˜„ë¡œ159ê¸¸ 20 ë™ë°©ë¹Œë”© 4ì¸µ)" },
        { title: "ë™ì†Œì‹ ì—°ìŠµ", start: "2026-2-6", end: "2026-2-11", type: 3, desc: "ì‹¤ì œ ì—°ìŠµì€ 9~11ì¼ ì§„í–‰<br>14:00~22:00 ì¤‘ ì§„í–‰<br>6ì¸µ ì˜ˆ2ê°•ì˜" },
        { title: "ì‹ ì…ìƒ OT", start: "2026-2-10", end: "2026-2-12", type: 3, desc: "10ì¼: <br>11ì¼: <br>12ì¼: ë™ì†Œì‹" },
        { title: "ê°œë³¸ë“±ì‹ ", start: "2026-3-14", end: "2026-3-14", type: 3, desc: "ê°œì´/ë³¸ì§„ì‹/ë“±ì›ì‹/ì‹ í™˜íšŒ<br><br>1ì°¨:<br>2ì°¨:" },
        { title: "ì•…ì†Œì‹", start: "2026-3-23", end: "2026-3-23", type: 3, desc: "23ì¼ ë˜ëŠ” 30ì¼" },
        { title: "ì•…ì†Œì‹", start: "2026-3-30", end: "2026-3-30", type: 3, desc: "23ì¼ ë˜ëŠ” 30ì¼" },
        { title: "ì‘ìŒ ì—°ìŠµ", start: "2026-5-11", end: "2026-5-22", type: 3, desc: "-" },
        { title: "ì‘ì€ìŒì•…íšŒ", start: "2026-5-23", end: "2026-5-23", type: 3, desc: "-", badge: "ì‘ìŒ" },
        { title: "ì •ê³µ ì—°ìŠµ", start: "2026-7-6", end: "2026-7-31", type: 3, desc: "-" },
        { title: "ì•¼ìœ íšŒ", start: "2026-7-11", end: "2026-7-12", type: 3, desc: "-" },
        { title: "ì •ê¸°ì—°ì£¼íšŒ", start: "2026-8-1", end: "2026-8-1", type: 3, desc: "-", badge: "ì •ê³µ" },

        { title: "ê´‘ì£¼íˆ¬ì–´", start: "2026-2-3", end: "2026-2-11", type: 4, desc: "-" },
        { title: "í™”ì´íŠ¸ë°ì´", start: "2026-3-13", end: "2026-3-13", type: 4, desc: "-" },
        { title: "ëŒ€ê´€ì‹ ì²­", start: "2026-5-1", end: "2026-5-1", type: 4, desc: "ë‚¨êµ¬ë¬¸í™”ì˜ˆìˆ íšŒê´€<br>062-670-5060<br>09:00 (ë¯¸ë¦¬ í™•ì¸í•´ë³¼ ê²ƒ)" },
        { title: "ìŠ¤ìŠ¹ì˜ë‚ ", start: "2026-5-15", end: "2026-5-15", type: 4, desc: "-" },

        { title: "OB ì—°ë½", start: "2026-1-19", end: "2026-1-31", type: 5, desc: "1. ê°œì´ ì¼ì • ì•ˆë‚´<br>2. ì •ê³µ ë‚ ì§œ ì•ˆë‚´<br>3. ì¹˜ì•„ ë°›ì„ ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ í™•ì¸" },
        { title: "ëŒ€ë©´ì‹ ì£¼ê°„", start: "2026-3-4", end: "2026-3-13", type: 5, desc: "-" },
        { title: "OB ì—°ë½", start: "2026-4-27", end: "2026-4-30", type: 5, desc: "ì‘ìŒ ì¼ì • ì•ˆë‚´" },
        { title: "OB ì—°ë½", start: "2026-6-29", end: "2026-7-5", type: 5, desc: "ì •ê³µ ì¼ì • ì•ˆë‚´" },
        { title: "íŒœí”Œë › ë°œì†¡", start: "2026-7-17", end: "2026-7-17", type: 5, desc: "-" },
        { title: "2026 ê³µì§€ í†¡ë°© ì˜¤í”ˆ", start: "2026-1-19", end: "2026-1-19", type: 5, desc: "-" },
		{ title: "íŒŒíŠ¸ì¥ í™•ì • ë° íŒŒíŠ¸ì¥ í†¡ë°© ì˜¤í”ˆ", start: "2026-2-6", end: "2026-2-6", type: 5, desc: "-" },

        { title: "OT ì‹ì‚¬ ì°¸ì—¬ì ì¡°ì‚¬", start: "2026-1-19", end: "2026-1-23", type: 6, desc: "ì ì‹¬ ëª°<br>2/12 ì €ë… 1ì°¨<br>2/12 ì €ë… 2ì°¨" },
        { title: "ì•…ë³´ í•„ìš”ì ì¡°ì‚¬", start: "2026-2-1", end: "2026-2-4", type: 6, desc: "ë™ì†Œì‹ ì•…ë³´ ì—†ëŠ” ì‚¬ëŒ ì¡°ì‚¬" },

        { title: "1Q íšŒë¹„", start: "2026-2-17", end: "2026-2-21", type: 7, desc: "ê°œë³¸ë“±ì‹ <br>ë³¸ê³¼ 11, ì˜ˆê³¼ 8" },
        { title: "2Q íšŒë¹„", start: "2026-4-27", end: "2026-4-30", type: 7, desc: "ì‘ìŒ<br>ë³¸ê³¼ 8, ì˜ˆê³¼ 7" },
        { title: "3Q íšŒë¹„", start: "2026-6-29", end: "2026-7-3", type: 7, desc: "ì •ê³µ<br>ë³¸ê³¼ 16, ì˜ˆê³¼ 14" }
    ];

    const categories = { 1: "í•™ì‚¬ì¼ì •", 2: "ì°¸ê³ ì¼ì •", 3: "í–‰ì‚¬", 4: "ì—…ë¬´", 5: "ì—…ë¬´", 6: "ì¤€ë¹„", 7: "íšŒë¹„" };
    let activeCategories = new Set([1, 2, 3, 4, 5, 6, 7]);

    const calendarGrid = document.getElementById('calendarGrid');
    const displayDate = document.getElementById('displayDate');
    const taskList = document.getElementById('taskList');
    const searchInput = document.getElementById('searchInput');
    const dDayBadge = document.getElementById('dDayBadge');
    
    // ìš°ì¸¡ íŒ¨ë„ì— ì˜¤ëŠ˜ ë‚ ì§œ í‘œì‹œ
    document.getElementById('todayText').textContent = `${REAL_NOW.getFullYear()}ë…„ ${REAL_NOW.getMonth()+1}ì›” ${REAL_NOW.getDate()}ì¼`;

    function parseDate(str) { const [y,m,d] = str.split('-').map(Number); return new Date(y, m-1, d); }
    function toggleCategory(type, element) {
        if (activeCategories.has(type)) { activeCategories.delete(type); element.classList.add('disabled'); } 
        else { activeCategories.add(type); element.classList.remove('disabled'); }
        renderCalendar();
    }

    function renderCalendar() {
        calendarGrid.innerHTML = '';
        for (let m = 0; m < 12; m++) {
            const monthDiv = document.createElement('div');
            monthDiv.className = 'month-box';
            let html = `<div class="month-name">${m + 1}ì›”</div><div class="days-grid">`;
            
            ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '].forEach((w, idx) => {
                html += `<div class="day-header ${idx === 0 ? 'sun' : ''}">${w}</div>`;
            });

            const date = new Date(TARGET_YEAR, m, 1);
            const firstDay = date.getDay();
            const lastDate = new Date(TARGET_YEAR, m + 1, 0).getDate();

            for(let i=0; i<firstDay; i++) html += `<div></div>`; 

            for(let d=1; d<=lastDate; d++) {
                const dateStr = `${TARGET_YEAR}-${m+1}-${d}`;
                const currentObj = new Date(TARGET_YEAR, m, d);
                
                // 1. ê³µíœ´ì¼ & ì¼ìš”ì¼ ì²´í¬
                const holidayName = holidays2026[dateStr];
                let dayClass = 'day';
                if (currentObj.getDay() === 0) dayClass += ' is-sunday';
                if (holidayName) dayClass += ' is-holiday';

                // ğŸ”¥ 2. ì˜¤ëŠ˜ ë‚ ì§œ ì²´í¬ (ì—°/ì›”/ì¼ ëª¨ë‘ ì¼ì¹˜í•´ì•¼ í•¨)
                if (TARGET_YEAR === REAL_NOW.getFullYear() && 
                    m === REAL_NOW.getMonth() && 
                    d === REAL_NOW.getDate()) {
                    dayClass += ' is-today';
                }

                // 3. ì¼ì • í•„í„°ë§
                const todaysEvents = events.filter(evt => {
                    if (!activeCategories.has(evt.type)) return false;
                    const s = parseDate(evt.start);
                    const e = parseDate(evt.end);
                    return currentObj >= s && currentObj <= e;
                });

                let barsHtml = '';
                todaysEvents.forEach(evt => {
                    let barClass = `event-bar type-${evt.type}`;
                    const s = parseDate(evt.start);
                    const e = parseDate(evt.end);
                    if (currentObj.getTime() === s.getTime() && currentObj.getTime() === e.getTime()) barClass += ' bar-single';
                    else if (currentObj.getTime() === s.getTime()) barClass += ' bar-start';
                    else if (currentObj.getTime() === e.getTime()) barClass += ' bar-end';
                    barsHtml += `<div class="${barClass}"></div>`;
                });
	// í•´ë‹¹ ë‚ ì§œì— 'badge' ì†ì„±ì´ ìˆëŠ” ì¼ì •ì´ ìˆëŠ”ì§€ í™•ì¸
            	const specialEvent = todaysEvents.find(evt => evt.badge);
            	let badgeAttr = ""; 
            
            	if (specialEvent) {
                	dayClass += ' special-day';       // CSS í´ë˜ìŠ¤ ì¶”ê°€
                	badgeAttr = `data-badge="${specialEvent.badge}"`; // ë±ƒì§€ ë‚´ìš© ì£¼ì…
            	}
	html += `<div class="${dayClass}" id="day-${dateStr}" ${badgeAttr} onclick="showDetail('${dateStr}', this)">
                        	<div class="date-num">${d}</div>
                        	${barsHtml}
                    	</div>`;
        	}
        	html += `</div>`;

            monthDiv.innerHTML = html;
            calendarGrid.appendChild(monthDiv);
        }
        if(searchInput.value) filterEvents();
    }

    function showDetail(dateStr, element) {
        if(element) {
            document.querySelectorAll('.day').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
        }
        const [y, m, d] = dateStr.split('-');
        displayDate.textContent = `${m}ì›” ${d}ì¼`;
        let htmlContent = '';
        if (holidays2026[dateStr]) htmlContent += `<div class="holiday-card"><span class="holiday-badge">ê³µíœ´ì¼</span><span>${holidays2026[dateStr]}</span></div>`;
        const currentObj = parseDate(dateStr);
        const activeEvents = events.filter(evt => currentObj >= parseDate(evt.start) && currentObj <= parseDate(evt.end));
        if (activeEvents.length > 0) {
            htmlContent += activeEvents.map(evt => `
                <div class="task-card type-${evt.type}">
                    <span class="tag type-${evt.type}">${categories[evt.type]}</span>
                    <span class="task-title">${evt.title}</span>
                    <div class="task-desc">${evt.desc}</div>
                    <div style="font-size:11px; color:var(--text-secondary); margin-top:5px; font-weight:bold;">${evt.start} ~ ${evt.end}</div>
                </div>
            `).join('');
        }
        if (!htmlContent) htmlContent = `<div style="text-align:center; color:var(--text-secondary); margin-top:20px;">ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>`;
        taskList.innerHTML = htmlContent;
    }

    function calculateDday() {
        const targetTypes = [3, 4]; // í–‰ì‚¬, ì—…ë¬´
        // ê³¼ê±° ì¼ì • ì œì™¸í•˜ê³  ë¯¸ë˜ ì¼ì •ë§Œ í•„í„°ë§ (REAL_NOW ê¸°ì¤€)
        // ë‹¨, ì‹œë¶„ì´ˆ ì°¨ì´ë¡œ ì¸í•œ ì˜¤ë¥˜ë¥¼ ë§‰ê¸° ìœ„í•´ REAL_NOWì˜ ì‹œê°„ì„ 0ì‹œë¡œ ì´ˆê¸°í™”
        const todayZero = new Date(REAL_NOW);
        todayZero.setHours(0,0,0,0);

        const sortedEvents = events
            .filter(e => targetTypes.includes(e.type))
            .map(e => ({...e, dateObj: parseDate(e.start)}))
            .filter(e => e.dateObj >= todayZero)
            .sort((a, b) => a.dateObj - b.dateObj);

        if (sortedEvents.length > 0) {
            const nextEvent = sortedEvents[0];
            const diffTime = nextEvent.dateObj - todayZero;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            
            let dDayText = diffDays === 0 ? "D-Day" : `D-${diffDays}`;
            dDayBadge.style.display = "block";
            dDayBadge.innerHTML = `ğŸ”” ë‹¤ìŒ ì¼ì •: ${nextEvent.title} (${dDayText})`;
        } else {
            dDayBadge.style.display = "none";
        }
    }

    function toggleDarkMode() { document.body.classList.toggle('dark-mode'); }

    function filterEvents() {
        const query = searchInput.value.toLowerCase().trim();
        document.querySelectorAll('.day').forEach(el => el.classList.remove('search-matched'));
        if (!query) return;
        const matchedEvents = events.filter(evt => evt.title.toLowerCase().includes(query) || evt.desc.toLowerCase().includes(query));
        matchedEvents.forEach(evt => {
            const start = parseDate(evt.start);
            const end = parseDate(evt.end);
            for (let dt = new Date(start); dt <= end; dt.setDate(dt.getDate() + 1)) {
                const dateKey = `day-${dt.getFullYear()}-${dt.getMonth() + 1}-${dt.getDate()}`;
                const el = document.getElementById(dateKey);
                if (el) el.classList.add('search-matched');
            }
        });
        displayDate.textContent = `ê²€ìƒ‰ ê²°ê³¼ (${matchedEvents.length}ê±´)`;
        if (matchedEvents.length > 0) {
            taskList.innerHTML = matchedEvents.map(evt => `
                <div class="task-card type-${evt.type}"><span class="tag type-${evt.type}">${categories[evt.type]}</span><span class="task-title">${evt.title}</span><div class="task-desc">${evt.desc}</div><div style="font-size:11px; color:var(--text-secondary); margin-top:5px;">${evt.start} ~ ${evt.end}</div></div>
            `).join('');
        } else {
            taskList.innerHTML = `<div style="text-align:center; color:var(--text-secondary); margin-top:20px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
        }
    }

    renderCalendar();
    calculateDday();

</script>

</body>
</html>





